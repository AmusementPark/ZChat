<!doctype html>
<html>
<head>
    <title>Socket.IO chat</title>
    <style>
        /** { margin: 0; padding: 0; box-sizing: border-box; }*/
        /*body { font: 13px Helvetica, Arial; }*/
        /*form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }*/
        /*form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }*/
        /*form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }*/
        /*#messages { list-style-type: none; margin: 0; padding: 0; }*/
        /*#messages li { padding: 5px 10px; }*/
        /*#messages li:nth-child(odd) { background: #eee; }*/

        /*.chat-body {*/
            /*margin-bottom:100px;*/
        /*}*/
    </style>
    <link rel="stylesheet" href="/css/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/chat.css">
    <script src="/js/lib/socket.io.js"></script>
    <script src="/js/lib/jquery-1.11.js"></script>
    <script src="/js/lib/angular.js"></script>
    <script src="/js/chat.js"></script>
    <script>

//        var socket = io();
//        $('form').submit(function(){
//            socket.emit('req-msg', $('#m').val());
//            $('#m').val('');
//            return false;
//        });
//        socket.on('res-msg', function(msg){
//            $('#messages').append($('<li>').text(msg));
//        });
//        socket.on('disconnect', function() {
//            console.log('disconnected');
//        });
    </script>
</head>
<body ng-app="zz.chat" ng-controller="zzChatMainCtrl" ng-init="main()">
    <div class="container">
        <div class="row">
            <div class="col-md-offset-1 col-md-7" ng-style="{'height':zzHH}"></div>
        </div>
        <div class="row">
            <div class="col-md-offset-1 col-md-7" id="chat-main">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <div style="font-size:20px;font-weight: bold">聊天
                            <span ng-controller="zzChatHistCtrl"><button ng-class="{disabled:isDisable}" ng-click="reqHistory()" class="btn btn-default" style="float:right;">聊天记录</button></span>
                        </div>
                    </div>
                    <div class="panel-body" ng-style="{'max-height':zzBH,'height':zzBH}">
                        <ul id="msg-list" class="media-list" ng-controller="zzChatViewCtrl"></ul>
                    </div>
                    <div class="panel-footer" ng-controller="zzChatSendCtrl">
                        <div class="row">
                            <div class="col-md-2">
                                <button class="btn btn-primary" ng-click="chooseColor()">选择颜色</button>
                            </div>
                            <div class="col-md-10">
                                <form>
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="输入文字" ng-model="zzIptMsg"/>
                                        <span class="input-group-btn">
                                            <button class="btn btn-info" type="submit" ng-click="submit()">发送</button>
                                        </span>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <div style="font-size:20px;font-weight: bold">在线</div>
                        </div>
                        <div class="panel-body" ng-style="{'max-height':zzBH,'height':zzBH}">
                            <ul id="man-list" class="media-list" ng-controller="zzChatOnlineCtrl"></ul>
                        </div>
                        <div class="panel-footer">
                            <form style="visibility: hidden">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="输入文字"/>
                                    <span class="input-group-btn">
                                        <button class="btn btn-info">发送</button>
                                    </span>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-offset-1 col-md-7"></div>
        </div>
    </div>
    <!--<div ng-controller="zzChatCtrl">-->
        <!--<div class="chat-body">-->
            <!--<ul id="messages"></ul>-->
        <!--</div>-->
        <!--<form>-->
            <!--<input id="m" autocomplete="off" ng-model="usrmsg"><button ng-click="submit()">发送</button>-->
        <!--</form>-->
    <!--</div>-->
</body>
</html>